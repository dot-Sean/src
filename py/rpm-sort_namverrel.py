#!/usr/bin/env python

import rpmpackage

import os
import sys
import rpm

if __name__ == "__main__":
  ts = rpm.TransactionSet()
  pkgs = []
  for file in sys.argv[1:]:
    pkgs.append(rpmpackage.Package(ts, file))
  pkgs.sort()
  for pkg in pkgs:
    print pkg["name"], pkg["version"], pkg["release"], pkg.path
  pkgs.sort(rpmpackage.compareRpm)
  for pkg in pkgs:
    print pkg["name"], pkg["version"], pkg["release"], pkg.path

# RPMAL_NOMATCH
# RPMCALLBACK_CPIO_ERROR
# RPMCALLBACK_INST_CLOSE_FILE
# RPMCALLBACK_INST_OPEN_FILE
# RPMCALLBACK_INST_PROGRESS
# RPMCALLBACK_INST_START
# RPMCALLBACK_REPACKAGE_PROGRESS
# RPMCALLBACK_REPACKAGE_START
# RPMCALLBACK_REPACKAGE_STOP
# RPMCALLBACK_TRANS_PROGRESS
# RPMCALLBACK_TRANS_START
# RPMCALLBACK_TRANS_STOP
# RPMCALLBACK_UNINST_PROGRESS
# RPMCALLBACK_UNINST_START
# RPMCALLBACK_UNINST_STOP
# RPMCALLBACK_UNKNOWN
# RPMCALLBACK_UNPACK_ERROR
# RPMDBI_PACKAGES
# RPMDEP_SENSE_CONFLICTS
# RPMDEP_SENSE_REQUIRES
# RPMFILE_CONFIG
# RPMFILE_DOC
# RPMFILE_EXCLUDE
# RPMFILE_GHOST
# RPMFILE_ICON
# RPMFILE_LICENSE
# RPMFILE_MISSINGOK
# RPMFILE_NOREPLACE
# RPMFILE_PUBKEY
# RPMFILE_README
# RPMFILE_STATE_NETSHARED
# RPMFILE_STATE_NORMAL
# RPMFILE_STATE_NOTINSTALLED
# RPMFILE_STATE_REPLACED
# RPMFILE_STATE_WRONGCOLOR
# RPMFILE_UNPATCHED
# RPMLOG_ALERT
# RPMLOG_CRIT
# RPMLOG_DEBUG
# RPMLOG_EMERG
# RPMLOG_ERR
# RPMLOG_INFO
# RPMLOG_NOTICE
# RPMLOG_WARNING
# RPMMIRE_DEFAULT
# RPMMIRE_GLOB
# RPMMIRE_REGEX
# RPMMIRE_STRCMP
# RPMPROB_BADARCH
# RPMPROB_BADOS
# RPMPROB_BADPRETRANS
# RPMPROB_BADRELOCATE
# RPMPROB_CONFLICT
# RPMPROB_DISKNODES
# RPMPROB_DISKSPACE
# RPMPROB_FILE_CONFLICT
# RPMPROB_FILTER_DISKNODES
# RPMPROB_FILTER_DISKSPACE
# RPMPROB_FILTER_FORCERELOCATE
# RPMPROB_FILTER_IGNOREARCH
# RPMPROB_FILTER_IGNOREOS
# RPMPROB_FILTER_OLDPACKAGE
# RPMPROB_FILTER_REPLACENEWFILES
# RPMPROB_FILTER_REPLACEOLDFILES
# RPMPROB_FILTER_REPLACEPKG
# RPMPROB_NEW_FILE_CONFLICT
# RPMPROB_OLDPACKAGE
# RPMPROB_PKG_INSTALLED
# RPMPROB_REQUIRES
# RPMSENSE_CONFIG
# RPMSENSE_EQUAL
# RPMSENSE_FIND_PROVIDES
# RPMSENSE_FIND_REQUIRES
# RPMSENSE_GREATER
# RPMSENSE_INTERP
# RPMSENSE_KEYRING
# RPMSENSE_LESS
# RPMSENSE_PATCHES
# RPMSENSE_PREREQ
# RPMSENSE_RPMLIB
# RPMSENSE_SCRIPT_BUILD
# RPMSENSE_SCRIPT_CLEAN
# RPMSENSE_SCRIPT_INSTALL
# RPMSENSE_SCRIPT_POST
# RPMSENSE_SCRIPT_POSTUN
# RPMSENSE_SCRIPT_PRE
# RPMSENSE_SCRIPT_PREP
# RPMSENSE_SCRIPT_PREUN
# RPMSENSE_SCRIPT_VERIFY
# RPMSENSE_SERIAL
# RPMSENSE_TRIGGERIN
# RPMSENSE_TRIGGERPOSTUN
# RPMSENSE_TRIGGERPREIN
# RPMSENSE_TRIGGERUN
# RPMTAG_ARCH
# RPMTAG_ARCHIVESIZE
# RPMTAG_BASENAMES
# RPMTAG_BUILDARCHS
# RPMTAG_BUILDHOST
# RPMTAG_BUILDTIME
# RPMTAG_C
# RPMTAG_CACHECTIME
# RPMTAG_CACHEPKGMTIME
# RPMTAG_CACHEPKGPATH
# RPMTAG_CACHEPKGSIZE
# RPMTAG_CHANGELOGNAME
# RPMTAG_CHANGELOGTEXT
# RPMTAG_CHANGELOGTIME
# RPMTAG_CLASSDICT
# RPMTAG_CONFLICTFLAGS
# RPMTAG_CONFLICTNAME
# RPMTAG_CONFLICTS
# RPMTAG_CONFLICTVERSION
# RPMTAG_COOKIE
# RPMTAG_COPYRIGHT
# RPMTAG_CVSID
# RPMTAG_D
# RPMTAG_DEPENDSDICT
# RPMTAG_DESCRIPTION
# RPMTAG_DIRINDEXES
# RPMTAG_DIRNAMES
# RPMTAG_DISTRIBUTION
# RPMTAG_DISTTAG
# RPMTAG_DISTURL
# RPMTAG_DSAHEADER
# RPMTAG_E
# RPMTAG_ENHANCESFLAGS
# RPMTAG_ENHANCESNAME
# RPMTAG_ENHANCESVERSION
# RPMTAG_EPOCH
# RPMTAG_EXCLUDEARCH
# RPMTAG_EXCLUDEOS
# RPMTAG_EXCLUSIVEARCH
# RPMTAG_EXCLUSIVEOS
# RPMTAG_FILECLASS
# RPMTAG_FILECOLORS
# RPMTAG_FILECONTEXTS
# RPMTAG_FILEDEPENDSN
# RPMTAG_FILEDEPENDSX
# RPMTAG_FILEDEVICES
# RPMTAG_FILEFLAGS
# RPMTAG_FILEGROUPNAME
# RPMTAG_FILEINODES
# RPMTAG_FILELANGS
# RPMTAG_FILELINKTOS
# RPMTAG_FILEMD5S
# RPMTAG_FILEMODES
# RPMTAG_FILEMTIMES
# RPMTAG_FILENAMES
# RPMTAG_FILEPROVIDE
# RPMTAG_FILERDEVS
# RPMTAG_FILEREQUIRE
# RPMTAG_FILESIZES
# RPMTAG_FILESTATES
# RPMTAG_FILEUSERNAME
# RPMTAG_FILEVERIFYFLAGS
# RPMTAG_FSCONTEXTS
# RPMTAG_FSNAMES
# RPMTAG_FSSIZES
# RPMTAG_GIF
# RPMTAG_GROUP
# RPMTAG_HDRID
# RPMTAG_HEADERI18NTABLE
# RPMTAG_HEADERIMAGE
# RPMTAG_HEADERIMMUTABLE
# RPMTAG_HEADERREGIONS
# RPMTAG_HEADERSIGNATURES
# RPMTAG_ICON
# RPMTAG_INSTALLCOLOR
# RPMTAG_INSTALLPREFIX
# RPMTAG_INSTALLTID
# RPMTAG_INSTALLTIME
# RPMTAG_INSTPREFIXES
# RPMTAG_LICENSE
# RPMTAG_N
# RPMTAG_NAME
# RPMTAG_O
# RPMTAG_OBSOLETEFLAGS
# RPMTAG_OBSOLETENAME
# RPMTAG_OBSOLETES
# RPMTAG_OBSOLETEVERSION
# RPMTAG_OLDFILENAMES
# RPMTAG_OPTFLAGS
# RPMTAG_OS
# RPMTAG_P
# RPMTAG_PACKAGER
# RPMTAG_PATCH
# RPMTAG_PATCHESFLAGS
# RPMTAG_PATCHESNAME
# RPMTAG_PATCHESVERSION
# RPMTAG_PAYLOADCOMPRESSOR
# RPMTAG_PAYLOADFLAGS
# RPMTAG_PAYLOADFORMAT
# RPMTAG_PKGID
# RPMTAG_PLATFORM
# RPMTAG_POLICIES
# RPMTAG_POSTIN
# RPMTAG_POSTINPROG
# RPMTAG_POSTTRANS
# RPMTAG_POSTTRANSPROG
# RPMTAG_POSTUN
# RPMTAG_POSTUNPROG
# RPMTAG_PREFIXES
# RPMTAG_PREIN
# RPMTAG_PREINPROG
# RPMTAG_PRETRANS
# RPMTAG_PRETRANSPROG
# RPMTAG_PREUN
# RPMTAG_PREUNPROG
# RPMTAG_PRIORITY
# RPMTAG_PROVIDEFLAGS
# RPMTAG_PROVIDENAME
# RPMTAG_PROVIDES
# RPMTAG_PROVIDEVERSION
# RPMTAG_PUBKEYS
# RPMTAG_R
# RPMTAG_RECONTEXTS
# RPMTAG_RELEASE
# RPMTAG_REMOVETID
# RPMTAG_REQUIREFLAGS
# RPMTAG_REQUIRENAME
# RPMTAG_REQUIRES
# RPMTAG_REQUIREVERSION
# RPMTAG_RHNPLATFORM
# RPMTAG_RPMVERSION
# RPMTAG_RSAHEADER
# RPMTAG_SERIAL
# RPMTAG_SHA1HEADER
# RPMTAG_SIGGPG
# RPMTAG_SIGMD5
# RPMTAG_SIGPGP
# RPMTAG_SIGSIZE
# RPMTAG_SIZE
# RPMTAG_SOURCE
# RPMTAG_SOURCEPACKAGE
# RPMTAG_SOURCEPKGID
# RPMTAG_SOURCERPM
# RPMTAG_SUGGESTSFLAGS
# RPMTAG_SUGGESTSNAME
# RPMTAG_SUGGESTSVERSION
# RPMTAG_SUMMARY
# RPMTAG_SVNID
# RPMTAG_TRIGGERCONDS
# RPMTAG_TRIGGERFLAGS
# RPMTAG_TRIGGERINDEX
# RPMTAG_TRIGGERNAME
# RPMTAG_TRIGGERSCRIPTPROG
# RPMTAG_TRIGGERSCRIPTS
# RPMTAG_TRIGGERTYPE
# RPMTAG_TRIGGERVERSION
# RPMTAG_URL
# RPMTAG_V
# RPMTAG_VENDOR
# RPMTAG_VERIFYSCRIPT
# RPMTAG_VERIFYSCRIPTPROG
# RPMTAG_VERSION
# RPMTAG_XPM
# RPMTRANS_FLAG_ADDINDEPS
# RPMTRANS_FLAG_ALLFILES
# RPMTRANS_FLAG_ANACONDA
# RPMTRANS_FLAG_BUILD_PROBS
# RPMTRANS_FLAG_JUSTDB
# RPMTRANS_FLAG_KEEPOBSOLETE
# RPMTRANS_FLAG_NOCONFIGS
# RPMTRANS_FLAG_NODOCS
# RPMTRANS_FLAG_NOMD5
# RPMTRANS_FLAG_NOPOST
# RPMTRANS_FLAG_NOPOSTUN
# RPMTRANS_FLAG_NOPRE
# RPMTRANS_FLAG_NOPREUN
# RPMTRANS_FLAG_NOSCRIPTS
# RPMTRANS_FLAG_NOSUGGEST
# RPMTRANS_FLAG_NOTRIGGERIN
# RPMTRANS_FLAG_NOTRIGGERPOSTUN
# RPMTRANS_FLAG_NOTRIGGERPREIN
# RPMTRANS_FLAG_NOTRIGGERS
# RPMTRANS_FLAG_NOTRIGGERUN
# RPMTRANS_FLAG_REPACKAGE
# RPMTRANS_FLAG_REVERSE
# RPMTRANS_FLAG_TEST
# RPMVSF_DEFAULT
# RPMVSF_NEEDPAYLOAD
# RPMVSF_NODSA
# RPMVSF_NODSAHEADER
# RPMVSF_NOHDRCHK
# RPMVSF_NOMD5
# RPMVSF_NOMD5HEADER
# RPMVSF_NORSA
# RPMVSF_NORSAHEADER
# RPMVSF_NOSHA1
# RPMVSF_NOSHA1HEADER
# TR_ADDED
# TR_REMOVED
# TransactionSet
# VERIFY_DIGEST
# VERIFY_SIGNATURE
# _RPMVSF_NODIGESTS
# _RPMVSF_NOHEADER
# _RPMVSF_NOPAYLOAD
# _RPMVSF_NOSIGNATURES
# __builtins__
# __doc__
# __file__
# __name__
# __path__
# _rpm
# addMacro
# al
# archscore
# delMacro
# ds
# dsSingle
# error
# fd
# fi
# fts
# hdr
# headerLoad
# labelCompare
# mergeHeaderListFromFD
# mi
# newrc
# ps
# rc
# readHeaderFromFD
# readHeaderListFromFD
# readHeaderListFromFile
# rhnLoad
# setEpochPromote
# setLogFile
# setStats
# setVerbosity
# spec
# tagnames
# te
# ts
# versionCompare
# writeHeaderListToFile
